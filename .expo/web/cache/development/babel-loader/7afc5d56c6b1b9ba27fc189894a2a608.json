{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { useNavigation } from '@react-navigation/native';\nimport { URLaddress, loggedUser } from \"./App\";\nimport { getContacts, postContact, deleteContact } from \"./Contact\";\nimport { FontAwesome } from '@expo/vector-icons';\nimport { getUserInfo, patchUserInfo, postLogout } from \"./UserRequests\";\nimport { getChats, postChat, patchChat } from \"./ChatRequests\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar exampleChats = [{\n  id: 1,\n  name: 'Alice',\n  lastMessage: 'Hey, how are you?'\n}, {\n  id: 2,\n  name: 'Jack',\n  lastMessage: 'See you tomorrow!'\n}, {\n  id: 3,\n  name: 'Lenny',\n  lastMessage: 'Can you send me that file?'\n}];\nvar exampleContacts = [{\n  user_id: 1,\n  first_name: 'Alice',\n  last_name: 'Mc',\n  email: 'alice@gmail.com'\n}, {\n  user_id: 2,\n  first_name: 'Jack',\n  last_name: 'Sparrow',\n  email: 'jack@gmail.com'\n}, {\n  user_id: 3,\n  first_name: 'Lenny',\n  last_name: 'Stuart',\n  email: 'lenny@gmail.com'\n}];\nfunction Chats() {\n  var navigation = useNavigation();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    chats = _useState2[0],\n    setChats = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showInput = _useState4[0],\n    setShowInput = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    chatName = _useState6[0],\n    setChatName = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    editChatId = _useState8[0],\n    setEditChatId = _useState8[1];\n  useEffect(function () {\n    getChats([chats, setChats]);\n  }, []);\n  var handleAddChat = function handleAddChat() {\n    setShowInput(true);\n  };\n  var handleCreateChat = function handleCreateChat() {\n    postChat(chatName).then(function () {\n      setShowInput(false);\n      setChatName('');\n      getChats([chats, setChats]);\n    }).catch(function (error) {\n      console.error('Error creating chat: ', error);\n    });\n  };\n  var handleEditChat = function handleEditChat(chatId) {\n    setEditChatId(chatId);\n    setShowInput(true);\n  };\n  var handleSaveEdit = function handleSaveEdit() {\n    patchChat(editChatId, chatName).then(function () {\n      setShowInput(false);\n      setEditChatId(null);\n      setChatName('');\n      getChats([chats, setChats]);\n    }).catch(function (error) {\n      console.error('Error editing chat: ', error);\n    });\n  };\n  var handleChatPress = function handleChatPress(chatId) {\n    navigation.navigate('Chat', {\n      chatId: chatId\n    });\n  };\n  return _jsxs(View, {\n    style: styles.tabContent,\n    children: [chats.map(function (chat) {\n      return _jsxs(TouchableOpacity, {\n        style: styles.chatItem,\n        onPress: function onPress() {\n          return handleChatPress(chat.chat_id);\n        },\n        children: [_jsx(Text, {\n          style: styles.chatName,\n          children: chat.name\n        }), _jsx(Text, {\n          style: styles.chatLastMessage,\n          children: chat.last_message && Object.keys(chat.last_message).length !== 0 ? chat.last_message.message || \"No messages yet\" : \"No messages yet\"\n        }), \"          \", _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleEditChat(chat.chat_id);\n          },\n          children: _jsx(FontAwesome, {\n            name: \"edit\",\n            size: 20,\n            color: \"#000\"\n          })\n        })]\n      }, chat.chat_id);\n    }), showInput ? _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Chat name\",\n        value: chatName,\n        onChangeText: setChatName\n      }), _jsx(TouchableOpacity, {\n        style: styles.saveContactButton,\n        onPress: editChatId ? handleSaveEdit : handleCreateChat,\n        children: _jsx(Text, {\n          style: styles.saveContactButtonText,\n          children: editChatId ? 'Save' : 'Create'\n        })\n      })]\n    }) : _jsx(TouchableOpacity, {\n      style: styles.newContactButton,\n      onPress: handleAddChat,\n      children: _jsx(FontAwesome, {\n        name: \"comment\",\n        size: 20,\n        color: \"#FFF\"\n      })\n    })]\n  });\n}\nfunction Contacts() {\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    contacts = _useState10[0],\n    setContacts = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    showInput = _useState12[0],\n    setShowInput = _useState12[1];\n  var _useState13 = useState(''),\n    _useState14 = _slicedToArray(_useState13, 2),\n    userId = _useState14[0],\n    setUserId = _useState14[1];\n  useEffect(function () {\n    getContacts([contacts, setContacts]);\n  }, []);\n  var handleAddContact = function handleAddContact() {\n    setShowInput(true);\n  };\n  var handleSaveContact = function handleSaveContact() {\n    postContact(userId).then(function () {\n      setShowInput(false);\n      setUserId('');\n      getContacts([contacts, setContacts]);\n    }).catch(function (error) {\n      console.error('Error saving contact: ', error);\n    });\n  };\n  var handleDeleteContact = function handleDeleteContact(contactId) {\n    deleteContact(contactId).then(function () {\n      setContacts(contacts.filter(function (contact) {\n        return contact.user_id !== contactId;\n      }));\n    }).catch(function (error) {\n      console.error('Error deleting contact: ', error);\n    });\n  };\n  var handleBlockContact = function handleBlockContact(contactId) {\n    blockContact(contactId).then(function () {\n      setContacts(contacts.map(function (contact) {\n        if (contact.user_id === contactId) {\n          return _objectSpread(_objectSpread({}, contact), {}, {\n            blocked: true\n          });\n        }\n        return contact;\n      }));\n    }).catch(function (error) {\n      console.error('Error blocking contact: ', error);\n    });\n  };\n  return _jsxs(View, {\n    style: styles.tabContent,\n    children: [contacts.map(function (contact) {\n      return _jsxs(View, {\n        style: styles.contactItem,\n        children: [_jsxs(Text, {\n          style: styles.contactName,\n          children: [contact.first_name, \" \", contact.last_name]\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleDeleteContact(contact.user_id);\n          },\n          children: _jsx(FontAwesome, {\n            name: \"trash-o\",\n            size: 20,\n            color: \"#FF0000\"\n          })\n        }), !contact.blocked ? _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleBlockContact(contact.user_id);\n          },\n          children: _jsx(FontAwesome, {\n            name: \"lock\",\n            size: 20,\n            color: \"#000000\"\n          })\n        }) : _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleUnblockContact(contact.user_id);\n          },\n          children: _jsx(FontAwesome, {\n            name: \"unlock\",\n            size: 20,\n            color: \"#000000\"\n          })\n        })]\n      }, contact.user_id);\n    }), showInput ? _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"User ID\",\n        value: userId,\n        onChangeText: setUserId,\n        keyboardType: \"numeric\"\n      }), _jsx(TouchableOpacity, {\n        style: styles.saveContactButton,\n        onPress: handleSaveContact,\n        children: _jsx(Text, {\n          style: styles.saveContactButtonText,\n          children: \"Save\"\n        })\n      })]\n    }) : _jsx(TouchableOpacity, {\n      style: styles.newContactButton,\n      onPress: handleAddContact,\n      children: _jsx(FontAwesome, {\n        name: \"user-plus\",\n        size: 20,\n        color: \"#FFF\"\n      })\n    })]\n  });\n}\nfunction Profile() {\n  var _useState15 = useState(''),\n    _useState16 = _slicedToArray(_useState15, 2),\n    name = _useState16[0],\n    setName = _useState16[1];\n  var _useState17 = useState(''),\n    _useState18 = _slicedToArray(_useState17, 2),\n    surname = _useState18[0],\n    setSurname = _useState18[1];\n  var _useState19 = useState(''),\n    _useState20 = _slicedToArray(_useState19, 2),\n    email = _useState20[0],\n    setEmail = _useState20[1];\n  var _useState21 = useState(''),\n    _useState22 = _slicedToArray(_useState21, 2),\n    password = _useState22[0],\n    setPassword = _useState22[1];\n  var _useState23 = useState(null),\n    _useState24 = _slicedToArray(_useState23, 2),\n    image = _useState24[0],\n    setImage = _useState24[1];\n  var _useState25 = useState(false),\n    _useState26 = _slicedToArray(_useState25, 2),\n    showUpdate = _useState26[0],\n    setShowUpdate = _useState26[1];\n  useEffect(function () {\n    getUserInfo(loggedUser.userId).then(function (data) {\n      setName(data.first_name);\n      setSurname(data.last_name);\n      setEmail(data.email);\n      setPassword(data.password);\n    }).catch(function (error) {\n      console.error('Error getting user info: ', error);\n    });\n  }, []);\n  var handleUpdateProfile = function handleUpdateProfile(field) {\n    switch (field) {\n      case 'name':\n        patchUserInfo({\n          first_name: name\n        });\n        break;\n      case 'surname':\n        patchUserInfo({\n          last_name: surname\n        });\n        break;\n      case 'email':\n        patchUserInfo({\n          email: email\n        });\n        break;\n      case 'password':\n        patchUserInfo({\n          password: password\n        });\n        break;\n      default:\n        break;\n    }\n  };\n  var handleImageChange = function handleImageChange(event) {\n    var uri = event.nativeEvent.uri;\n    setImage(uri);\n  };\n  var handleEditProfile = function handleEditProfile() {\n    setIsEditing(true);\n  };\n  var handleSaveProfile = function handleSaveProfile() {\n    setIsEditing(false);\n  };\n  var navigation = useNavigation();\n  var handleLogout = function () {\n    var _ref = _asyncToGenerator(function* () {\n      yield postLogout();\n      console.log(loggedUser);\n      navigation.navigate('SignIn');\n    });\n    return function handleLogout() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.tabContent,\n    children: [_jsxs(View, {\n      style: styles.profileImageContainer,\n      children: [image ? _jsx(Image, {\n        source: {\n          uri: image\n        },\n        style: styles.profileImage\n      }) : _jsx(FontAwesome, {\n        name: \"user\",\n        size: 100,\n        color: \"#555\"\n      }), _jsxs(TouchableOpacity, {\n        style: styles.editImageButton,\n        children: [_jsx(Text, {\n          style: styles.editImageButtonText,\n          children: \"Edit Image\"\n        }), _jsx(TextInput, {\n          style: styles.hiddenInput,\n          onChange: handleImageChange\n        })]\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: styles.showUpdateButton,\n      onPress: function onPress() {\n        return setShowUpdate(true);\n      },\n      children: _jsx(Text, {\n        style: styles.showUpdateButtonText,\n        children: \"Update Profile\"\n      })\n    }), showUpdate ? _jsxs(View, {\n      style: styles.profileInfo,\n      children: [_jsxs(View, {\n        style: {\n          width: '100%',\n          marginBottom: 10\n        },\n        children: [_jsx(TextInput, {\n          style: styles.inputProfile,\n          placeholder: \"Name\",\n          value: name,\n          onChangeText: setName\n        }), _jsx(TouchableOpacity, {\n          style: styles.updateButtonProfile,\n          onPress: function onPress() {\n            return handleUpdateProfile('name');\n          },\n          children: _jsx(FontAwesome, {\n            name: \"pencil\",\n            style: styles.updateButtonIcon\n          })\n        })]\n      }), _jsxs(View, {\n        style: {\n          width: '100%',\n          marginBottom: 10\n        },\n        children: [_jsx(TextInput, {\n          style: styles.inputProfile,\n          placeholder: \"Surname\",\n          value: surname,\n          onChangeText: setSurname\n        }), _jsx(TouchableOpacity, {\n          style: styles.updateButtonProfile,\n          onPress: function onPress() {\n            return handleUpdateProfile('surname');\n          },\n          children: _jsx(FontAwesome, {\n            name: \"pencil\",\n            style: styles.updateButtonIcon\n          })\n        })]\n      }), _jsxs(View, {\n        style: {\n          width: '100%',\n          marginBottom: 10\n        },\n        children: [_jsx(TextInput, {\n          style: styles.inputProfile,\n          placeholder: \"Email\",\n          value: email,\n          onChangeText: setEmail\n        }), _jsx(TouchableOpacity, {\n          style: styles.updateButtonProfile,\n          onPress: function onPress() {\n            return handleUpdateProfile('email');\n          },\n          children: _jsx(FontAwesome, {\n            name: \"pencil\",\n            style: styles.updateButtonIcon\n          })\n        })]\n      }), _jsxs(View, {\n        style: {\n          width: '100%',\n          marginBottom: 10\n        },\n        children: [_jsx(TextInput, {\n          style: styles.inputProfile,\n          placeholder: \"Password\",\n          secureTextEntry: true,\n          value: password,\n          onChangeText: setPassword\n        }), _jsx(TouchableOpacity, {\n          style: styles.updateButtonProfile,\n          onPress: function onPress() {\n            return handleUpdateProfile('password');\n          },\n          children: _jsx(FontAwesome, {\n            name: \"pencil\",\n            style: styles.updateButtonIcon\n          })\n        })]\n      })]\n    }) : _jsx(View, {\n      style: styles.profileInfoMain,\n      children: _jsxs(Text, {\n        style: styles.profileText,\n        children: [name + \" \" + surname, _jsx(Text, {\n          children: '\\n'\n        }), \"\" + email]\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.logoutButton,\n      onPress: function onPress() {\n        return handleLogout();\n      },\n      children: _jsx(Text, {\n        style: styles.logoutButtonText,\n        children: \"Logout\"\n      })\n    })]\n  });\n}\nexport default function Home(_ref2) {\n  var navigation = _ref2.navigation;\n  var _useState27 = useState('Chats'),\n    _useState28 = _slicedToArray(_useState27, 2),\n    activeTab = _useState28[0],\n    setActiveTab = _useState28[1];\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.navBar,\n      children: [_jsx(TouchableOpacity, {\n        style: [styles.tabButton, activeTab === 'Profile' && styles.activeTabButton],\n        onPress: function onPress() {\n          return setActiveTab('Profile');\n        },\n        children: activeTab === 'Profile' ? _jsx(Text, {\n          style: [styles.tabButtonText, styles.activeTabButtonText],\n          children: \"Profile\"\n        }) : _jsx(FontAwesome, {\n          name: \"user-o\",\n          size: 18,\n          color: \"#fff\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: [styles.tabButton, activeTab === 'Chats' && styles.activeTabButton],\n        onPress: function onPress() {\n          return setActiveTab('Chats');\n        },\n        children: activeTab === 'Chats' ? _jsx(Text, {\n          style: [styles.tabButtonText, styles.activeTabButtonText],\n          children: \"Chats\"\n        }) : _jsx(FontAwesome, {\n          name: \"comments\",\n          size: 18,\n          color: \"#fff\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: [styles.tabButton, activeTab === 'Contacts' && styles.activeTabButton],\n        onPress: function onPress() {\n          return setActiveTab('Contacts');\n        },\n        children: activeTab === 'Contacts' ? _jsx(Text, {\n          style: [styles.tabButtonText, styles.activeTabButtonText],\n          children: \"Contacts\"\n        }) : _jsx(FontAwesome, {\n          name: \"address-book-o\",\n          size: 18,\n          color: \"#fff\"\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate('Chat');\n        },\n        children: _jsx(Text, {\n          children: \"Go to Chat screen\"\n        })\n      })]\n    }), activeTab === 'Chats' ? _jsx(Chats, {}) : activeTab === 'Contacts' ? _jsx(Contacts, {}) : _jsx(Profile, {})]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  navBar: {\n    flexDirection: 'row',\n    backgroundColor: '#007aff',\n    height: 60\n  },\n  tabButton: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  tabButtonContent: {\n    paddingHorizontal: 10\n  },\n  tabButtonText: {\n    color: '#fff',\n    fontSize: 18\n  },\n  activeTabButton: {\n    flex: 3,\n    borderBottomWidth: 2,\n    borderBottomColor: '#fff'\n  },\n  activeTabButtonText: {\n    fontWeight: 'bold'\n  },\n  tabContent: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  input: {\n    width: '100%',\n    padding: 10,\n    marginBottom: 10,\n    backgroundColor: '#f0f0f0',\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 5\n  },\n  imageContainer: {\n    width: '100%',\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  profileImageContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 20\n  },\n  profileImage: {\n    width: 100,\n    height: 100,\n    borderRadius: 50\n  },\n  editImageButton: {\n    marginTop: 10\n  },\n  editImageButtonText: {\n    color: 'blue'\n  },\n  hiddenInput: {\n    display: 'none'\n  },\n  showUpdateButton: {\n    marginTop: 10\n  },\n  showUpdateButtonText: {\n    color: 'blue'\n  },\n  profileInfo: {\n    width: '100%',\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  },\n  updateButtonProfile: {\n    backgroundColor: 'transparent',\n    height: 30,\n    justifyContent: 'center',\n    flexDirection: 'row',\n    marginTop: 10\n  },\n  updateButtonIcon: {\n    color: 'blue',\n    fontSize: 18\n  },\n  updateButtonText: {\n    color: 'white',\n    flex: 1\n  },\n  profileInfoMain: {\n    width: '100%',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  profileText: {\n    fontSize: 16,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  changeImageButton: {\n    backgroundColor: '#007aff',\n    padding: 10,\n    borderRadius: 5,\n    marginTop: 10\n  },\n  changeImageButtonText: {\n    color: '#fff',\n    textAlign: 'center'\n  },\n  form: {\n    width: '100%'\n  },\n  label: {\n    fontWeight: 'bold',\n    marginBottom: 5\n  },\n  submitButton: {\n    backgroundColor: '#007aff',\n    padding: 10,\n    borderRadius: 5,\n    marginTop: 20\n  },\n  submitButtonText: {\n    color: '#fff',\n    textAlign: 'center'\n  },\n  profileName: {\n    fontWeight: 'bold',\n    fontSize: 18,\n    marginTop: 20\n  },\n  profileEmail: {\n    color: '#777',\n    fontSize: 14,\n    marginTop: 5\n  },\n  inputProfile: {\n    width: '70%',\n    padding: 10,\n    marginBottom: 10,\n    backgroundColor: '#f0f0f0',\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 5\n  },\n  chatItem: {\n    width: '100%',\n    padding: 20,\n    backgroundColor: '#f0f0f0',\n    paddingTop: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc'\n  },\n  chatName: {\n    fontWeight: 'bold',\n    fontSize: 16,\n    marginBottom: 5\n  },\n  chatLastMessage: {\n    color: '#777',\n    fontSize: 14\n  },\n  contactItem: {\n    width: '100%',\n    padding: 20,\n    backgroundColor: '#f0f0f0',\n    paddingTop: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc'\n  },\n  contactName: {\n    fontWeight: 'bold',\n    fontSize: 16\n  },\n  newContactButton: {\n    position: 'absolute',\n    bottom: 16,\n    right: 16,\n    width: 56,\n    height: 56,\n    backgroundColor: '#3366FF',\n    borderRadius: 28,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.29,\n    shadowRadius: 4.65,\n    elevation: 7\n  },\n  newContactButtonText: {\n    color: '#fff',\n    fontSize: 32,\n    lineHeight: 32\n  },\n  inputContainer: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginBottom: 20\n  },\n  saveButton: {\n    backgroundColor: '#3366FF',\n    padding: 10,\n    borderRadius: 5,\n    marginTop: 10,\n    alignItems: 'center'\n  },\n  saveButtonText: {\n    color: '#fff',\n    textAlign: 'center'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useNavigation","URLaddress","loggedUser","getContacts","postContact","deleteContact","FontAwesome","getUserInfo","patchUserInfo","postLogout","getChats","postChat","patchChat","exampleChats","id","name","lastMessage","exampleContacts","user_id","first_name","last_name","email","Chats","navigation","chats","setChats","showInput","setShowInput","chatName","setChatName","editChatId","setEditChatId","handleAddChat","handleCreateChat","then","catch","error","console","handleEditChat","chatId","handleSaveEdit","handleChatPress","navigate","styles","tabContent","map","chat","chatItem","chat_id","chatLastMessage","last_message","Object","keys","length","message","inputContainer","input","saveContactButton","saveContactButtonText","newContactButton","Contacts","contacts","setContacts","userId","setUserId","handleAddContact","handleSaveContact","handleDeleteContact","contactId","filter","contact","handleBlockContact","blockContact","blocked","contactItem","contactName","handleUnblockContact","Profile","setName","surname","setSurname","setEmail","password","setPassword","image","setImage","showUpdate","setShowUpdate","data","handleUpdateProfile","field","handleImageChange","event","uri","nativeEvent","handleEditProfile","setIsEditing","handleSaveProfile","handleLogout","log","profileImageContainer","profileImage","editImageButton","editImageButtonText","hiddenInput","showUpdateButton","showUpdateButtonText","profileInfo","width","marginBottom","inputProfile","updateButtonProfile","updateButtonIcon","profileInfoMain","profileText","logoutButton","logoutButtonText","Home","activeTab","setActiveTab","container","navBar","tabButton","activeTabButton","tabButtonText","activeTabButtonText","StyleSheet","create","flex","backgroundColor","flexDirection","height","justifyContent","alignItems","tabButtonContent","paddingHorizontal","color","fontSize","borderBottomWidth","borderBottomColor","fontWeight","padding","borderWidth","borderColor","borderRadius","imageContainer","marginTop","display","flexWrap","updateButtonText","textAlign","changeImageButton","changeImageButtonText","form","label","submitButton","submitButtonText","profileName","profileEmail","paddingTop","position","bottom","right","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","newContactButtonText","lineHeight","saveButton","saveButtonText"],"sources":["C:/WhatsThat Server/WhatsThatApp/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Image, TextInput } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { URLaddress, loggedUser } from './App';\r\nimport { getContacts, postContact, deleteContact } from './Contact';\r\nimport { FontAwesome } from '@expo/vector-icons';\r\nimport { getUserInfo, patchUserInfo, postLogout } from './UserRequests';\r\nimport { getChats, postChat, patchChat } from './ChatRequests';\r\n\r\n// Example data for chats and contacts\r\nconst exampleChats = [\r\n  { id: 1, name: 'Alice', lastMessage: 'Hey, how are you?' },\r\n  { id: 2, name: 'Jack', lastMessage: 'See you tomorrow!' },\r\n  { id: 3, name: 'Lenny', lastMessage: 'Can you send me that file?' },\r\n];\r\n\r\nconst exampleContacts = [\r\n  { user_id: 1, first_name: 'Alice', last_name: 'Mc', email: 'alice@gmail.com' },\r\n  { user_id: 2, first_name: 'Jack', last_name: 'Sparrow', email: 'jack@gmail.com' },\r\n  { user_id: 3, first_name: 'Lenny', last_name: 'Stuart', email: 'lenny@gmail.com' },\r\n];\r\n\r\n// Define Chats component\r\nfunction Chats() {\r\n  const navigation = useNavigation();\r\n  const [chats, setChats] = useState([]);\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [chatName, setChatName] = useState('');\r\n  const [editChatId, setEditChatId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getChats([chats, setChats]);\r\n  }, []);\r\n\r\n  const handleAddChat = () => {\r\n    setShowInput(true);\r\n  };\r\n\r\n  const handleCreateChat = () => {\r\n    postChat(chatName)\r\n      .then(() => {\r\n        setShowInput(false);\r\n        setChatName('');\r\n        getChats([chats, setChats]);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error creating chat: ', error);\r\n      });\r\n  };\r\n  \r\n  const handleEditChat = (chatId) => {\r\n    setEditChatId(chatId);\r\n    setShowInput(true);\r\n  }\r\n  \r\n  const handleSaveEdit = () => {\r\n    patchChat(editChatId, chatName)\r\n      .then(() => {\r\n        setShowInput(false);\r\n        setEditChatId(null);\r\n        setChatName('');\r\n        getChats([chats, setChats]);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error editing chat: ', error);\r\n      });\r\n  }\r\n\r\n  const handleChatPress = (chatId) => {\r\n    navigation.navigate('Chat', { chatId });\r\n  }\r\n\r\n  return (\r\n    <View style={styles.tabContent}>\r\n      {chats.map(chat => (\r\n        <TouchableOpacity key={chat.chat_id} style={styles.chatItem} onPress={() => handleChatPress(chat.chat_id)}>\r\n          <Text style={styles.chatName}>{chat.name}</Text>\r\n          <Text style={styles.chatLastMessage}>\r\n  {chat.last_message && Object.keys(chat.last_message).length !== 0\r\n    ? chat.last_message.message || \"No messages yet\"\r\n    : \"No messages yet\"}\r\n</Text>          <TouchableOpacity onPress={() => handleEditChat(chat.chat_id)}>\r\n            <FontAwesome name=\"edit\" size={20} color=\"#000\" />\r\n          </TouchableOpacity>\r\n        </TouchableOpacity>\r\n      ))}\r\n      {showInput ? (\r\n        <View style={styles.inputContainer}>\r\n          <TextInput\r\n            style={styles.input}\r\n            placeholder=\"Chat name\"\r\n            value={chatName}\r\n            onChangeText={setChatName}\r\n          />\r\n          <TouchableOpacity style={styles.saveContactButton} onPress={editChatId ? handleSaveEdit : handleCreateChat}>\r\n            <Text style={styles.saveContactButtonText}>{editChatId ? 'Save' : 'Create'}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      ) : (\r\n        <TouchableOpacity style={styles.newContactButton} onPress={handleAddChat}>\r\n          <FontAwesome name=\"comment\" size={20} color=\"#FFF\" />        \r\n        </TouchableOpacity>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\n\r\n// Define Contacts component\r\nfunction Contacts() {\r\n  \r\n  const [contacts, setContacts] = useState([]);\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [userId, setUserId] = useState('');\r\n  \r\n  useEffect(() => {\r\n    getContacts([contacts, setContacts]);\r\n  }, []);\r\n\r\n  const handleAddContact = () => {\r\n    setShowInput(true);\r\n  };\r\n\r\n  const handleSaveContact = () => {\r\n    // call API to save the contact with the provided user ID\r\n    postContact(userId)\r\n      .then(() => {\r\n        setShowInput(false);\r\n        setUserId('');\r\n        // call getContacts to update the contacts list with the new contact\r\n        getContacts([contacts, setContacts]);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error saving contact: ', error);\r\n      });\r\n  };\r\n\r\n  const handleDeleteContact = (contactId) => {\r\n    // call API to delete the contact with the given ID\r\n    deleteContact(contactId)\r\n      .then(() => {\r\n        // filter out the deleted contact from the contacts list\r\n        setContacts(contacts.filter(contact => contact.user_id !== contactId));\r\n      })\r\n      .catch(error => {\r\n        console.error('Error deleting contact: ', error);\r\n      });\r\n  };\r\n\r\n  const handleBlockContact = (contactId) => {\r\n    // call API to block the contact with the given ID\r\n    blockContact(contactId)\r\n      .then(() => {\r\n        // update the blocked flag for the blocked contact in the contacts list\r\n        setContacts(contacts.map(contact => {\r\n          if (contact.user_id === contactId) {\r\n            return { ...contact, blocked: true };\r\n          }\r\n          return contact;\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        console.error('Error blocking contact: ', error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.tabContent}>\r\n      {contacts.map(contact => (\r\n        <View key={contact.user_id} style={styles.contactItem}>\r\n          <Text style={styles.contactName}>{contact.first_name} {contact.last_name}</Text>\r\n          <TouchableOpacity onPress={() => handleDeleteContact(contact.user_id)}>\r\n            <FontAwesome name=\"trash-o\" size={20} color=\"#FF0000\" />\r\n          </TouchableOpacity>\r\n          {!contact.blocked ? (\r\n            <TouchableOpacity onPress={() => handleBlockContact(contact.user_id)}>\r\n              <FontAwesome name=\"lock\" size={20} color=\"#000000\" />\r\n            </TouchableOpacity>\r\n          ) : (\r\n            <TouchableOpacity onPress={() => handleUnblockContact(contact.user_id)}>\r\n              <FontAwesome name=\"unlock\" size={20} color=\"#000000\" />\r\n            </TouchableOpacity>\r\n          )}\r\n        </View>\r\n      ))}\r\n      {showInput ? (\r\n        <View style={styles.inputContainer}>\r\n          <TextInput\r\n            style={styles.input}\r\n            placeholder=\"User ID\"\r\n            value={userId}\r\n            onChangeText={setUserId}\r\n            keyboardType=\"numeric\"\r\n          />\r\n          <TouchableOpacity style={styles.saveContactButton} onPress={handleSaveContact}>\r\n            <Text style={styles.saveContactButtonText}>Save</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      ) : (\r\n        <TouchableOpacity style={styles.newContactButton} onPress={handleAddContact}>\r\n          <FontAwesome name=\"user-plus\" size={20} color=\"#FFF\" />        \r\n        </TouchableOpacity>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nfunction Profile() {\r\n  const [name, setName] = useState('');\r\n  const [surname, setSurname] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [showUpdate, setShowUpdate] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // call the getUserInfo function and update state variables with the user information\r\n    getUserInfo(loggedUser.userId)\r\n      .then((data) => {\r\n        setName(data.first_name);\r\n        setSurname(data.last_name);\r\n        setEmail(data.email);\r\n        setPassword(data.password);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error getting user info: ', error);\r\n      });\r\n  }, []);\r\n\r\n  const handleUpdateProfile = (field) => {\r\n    switch (field) {\r\n      case 'name':\r\n        patchUserInfo({ first_name: name });\r\n        break;\r\n      case 'surname':\r\n        patchUserInfo({ last_name: surname });\r\n\r\n        break;\r\n      case 'email':\r\n        patchUserInfo({ email: email });\r\n\r\n        break;\r\n      case 'password':\r\n        patchUserInfo({ password: password });\r\n\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (event) => {\r\n    const { uri } = event.nativeEvent;\r\n    setImage(uri);\r\n  };\r\n\r\n  const handleEditProfile = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleSaveProfile = () => {\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const navigation = useNavigation();\r\n\r\n  const handleLogout = async () => { // Add async keyword here\r\n    // navigate the user back to the sign-in screen\r\n    await postLogout();\r\n    console.log(loggedUser);\r\n    navigation.navigate('SignIn');\r\n  };\r\n\r\n  return (\r\n    <View style={styles.tabContent}>\r\n    <View style={styles.profileImageContainer}>\r\n    {image ? (\r\n    <Image source={{ uri: image }} style={styles.profileImage} />\r\n    ) : (\r\n    <FontAwesome name=\"user\" size={100} color=\"#555\" />\r\n    )}\r\n    <TouchableOpacity style={styles.editImageButton}>\r\n    <Text style={styles.editImageButtonText}>Edit Image</Text>\r\n    <TextInput style={styles.hiddenInput} onChange={handleImageChange} />\r\n    </TouchableOpacity>\r\n    </View>\r\n    <TouchableOpacity style={styles.showUpdateButton} onPress={() => setShowUpdate(true)}>\r\n    <Text style={styles.showUpdateButtonText}>Update Profile</Text>\r\n    </TouchableOpacity>\r\n    {showUpdate ? (\r\n    <View style={styles.profileInfo}>\r\n    <View style={{ width: '100%', marginBottom: 10 }}>\r\n    <TextInput\r\n             style={styles.inputProfile}\r\n             placeholder=\"Name\"\r\n             value={name}\r\n             onChangeText={setName}\r\n           />\r\n    <TouchableOpacity\r\n    style={styles.updateButtonProfile}\r\n    onPress={() => handleUpdateProfile('name')}\r\n    >\r\n    <FontAwesome name=\"pencil\" style={styles.updateButtonIcon} />\r\n    </TouchableOpacity>\r\n    </View>\r\n    <View style={{ width: '100%', marginBottom: 10 }}>\r\n    <TextInput\r\n             style={styles.inputProfile}\r\n             placeholder=\"Surname\"\r\n             value={surname}\r\n             onChangeText={setSurname}\r\n           />\r\n    <TouchableOpacity\r\n    style={styles.updateButtonProfile}\r\n    onPress={() => handleUpdateProfile('surname')}\r\n    >\r\n    <FontAwesome name=\"pencil\" style={styles.updateButtonIcon} />\r\n    </TouchableOpacity>\r\n    </View>\r\n    <View style={{ width: '100%', marginBottom: 10 }}>\r\n    <TextInput\r\n             style={styles.inputProfile}\r\n             placeholder=\"Email\"\r\n             value={email}\r\n             onChangeText={setEmail}\r\n           />\r\n    <TouchableOpacity\r\n    style={styles.updateButtonProfile}\r\n    onPress={() => handleUpdateProfile('email')}\r\n    >\r\n    <FontAwesome name=\"pencil\" style={styles.updateButtonIcon} />\r\n    </TouchableOpacity>\r\n    </View>\r\n    <View style={{ width: '100%', marginBottom: 10 }}>\r\n    <TextInput\r\n             style={styles.inputProfile}\r\n             placeholder=\"Password\"\r\n             secureTextEntry={true}\r\n             value={password}\r\n             onChangeText={setPassword}\r\n           />\r\n    <TouchableOpacity\r\n    style={styles.updateButtonProfile}\r\n    onPress={() => handleUpdateProfile('password')}\r\n    >\r\n    <FontAwesome name=\"pencil\" style={styles.updateButtonIcon} />\r\n    </TouchableOpacity>\r\n    </View>\r\n    </View>\r\n    ) : (\r\n      <View style={styles.profileInfoMain}>\r\n      <Text style={styles.profileText}>\r\n        {`${name} ${surname}`} \r\n        <Text>{'\\n'}</Text>\r\n        {`${email}`}\r\n      </Text>\r\n    </View>\r\n  )}\r\n\r\n    <TouchableOpacity style={styles.logoutButton} onPress={() => handleLogout()}>\r\n      <Text style={styles.logoutButtonText}>Logout</Text>\r\n    </TouchableOpacity>\r\n\r\n    </View>\r\n  );\r\n}\r\n\r\nexport default function Home({navigation}) {\r\n  \r\n  const [activeTab, setActiveTab] = useState('Chats');\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Nav bar */}\r\n      <View style={styles.navBar}>\r\n      <TouchableOpacity\r\n          style={[styles.tabButton, activeTab === 'Profile' && styles.activeTabButton]}\r\n          onPress={() => setActiveTab('Profile')}\r\n        >\r\n          {activeTab === 'Profile' ? (\r\n      <Text style={[styles.tabButtonText, styles.activeTabButtonText]}>Profile</Text>\r\n    ) : (\r\n      <FontAwesome name=\"user-o\" size={18} color=\"#fff\" />\r\n    )}\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          style={[styles.tabButton, activeTab === 'Chats' && styles.activeTabButton]}\r\n          onPress={() => setActiveTab('Chats')}\r\n        >\r\n          {activeTab === 'Chats' ? (\r\n      <Text style={[styles.tabButtonText, styles.activeTabButtonText]}>Chats</Text>\r\n    ) : (\r\n      <FontAwesome name=\"comments\" size={18} color=\"#fff\" />\r\n    )}\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          style={[styles.tabButton, activeTab === 'Contacts' && styles.activeTabButton]}\r\n          onPress={() => setActiveTab('Contacts')}\r\n        >\r\n          {activeTab === 'Contacts' ? (\r\n      <Text style={[styles.tabButtonText, styles.activeTabButtonText]}>Contacts</Text>\r\n    ) : (\r\n      <FontAwesome name=\"address-book-o\" size={18} color=\"#fff\" />\r\n    )}\r\n        </TouchableOpacity>\r\n        <TouchableOpacity onPress={() => navigation.navigate('Chat')}>\r\n        <Text>Go to Chat screen</Text>\r\n      </TouchableOpacity>\r\n      </View>\r\n  \r\n      {/* Tab content */}\r\n      {activeTab === 'Chats' ? <Chats /> : activeTab === 'Contacts' ? <Contacts /> : <Profile />}\r\n    </View>\r\n  );\r\n  \r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  navBar: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#007aff',\r\n    height: 60,\r\n  },\r\n  tabButton: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tabButtonContent: {\r\n    paddingHorizontal: 10,\r\n  },\r\n  tabButtonText: {\r\n    color: '#fff',\r\n    fontSize: 18,\r\n  },\r\n  activeTabButton: {\r\n    flex: 3,\r\n    borderBottomWidth: 2,\r\n    borderBottomColor: '#fff',\r\n  },\r\n  activeTabButtonText: {\r\n    fontWeight: 'bold',\r\n  },\r\n  tabContent: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n  }, \r\n  input: {\r\n    width: '100%',\r\n    padding: 10,\r\n    marginBottom: 10,\r\n    backgroundColor: '#f0f0f0',\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    borderRadius: 5,\r\n    },\r\n    imageContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n    },\r\n    profileImageContainer: {\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      marginBottom: 20,\r\n      },\r\n      profileImage: {\r\n      width: 100,\r\n      height: 100,\r\n      borderRadius: 50,\r\n      },\r\n      editImageButton: {\r\n        marginTop: 10,\r\n        },\r\n        editImageButtonText: {\r\n        color: 'blue',\r\n        },\r\n        hiddenInput: {\r\n          display: 'none',\r\n          },\r\n          showUpdateButton: {\r\n          marginTop: 10,\r\n          },\r\n          showUpdateButtonText: {\r\n          color: 'blue',\r\n          },\r\n          profileInfo: {\r\n            width: '100%',\r\n            flexDirection: 'row',\r\n            flexWrap: 'wrap',\r\n          },          \r\n          updateButtonProfile: {\r\n            backgroundColor: 'transparent',\r\n            height: 30,\r\n            justifyContent: 'center',\r\n            flexDirection: 'row',\r\n            marginTop: 10,\r\n            },\r\n          updateButtonIcon: {\r\n            color: 'blue',\r\n            fontSize: 18,\r\n          },\r\n          updateButtonText: {\r\n            color: 'white',\r\n            flex: 1,\r\n            },\r\n            profileInfoMain: {\r\n              width: '100%',\r\n              flexDirection: 'row',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n            },\r\n            profileText: {\r\n              fontSize: 16,\r\n              marginBottom: 10,\r\n              fontWeight: 'bold',\r\n              textAlign: 'center',\r\n            },\r\n    changeImageButton: {\r\n    backgroundColor: '#007aff',\r\n    padding: 10,\r\n    borderRadius: 5,\r\n    marginTop: 10,\r\n    },\r\n    changeImageButtonText: {\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    },\r\n    form: {\r\n    width: '100%',\r\n    },\r\n    label: {\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    },\r\n    submitButton: {\r\n    backgroundColor: '#007aff',\r\n    padding: 10,\r\n    borderRadius: 5,\r\n    marginTop: 20,\r\n    },\r\n    submitButtonText: {\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    },\r\n    profileName: {\r\n    fontWeight: 'bold',\r\n    fontSize: 18,\r\n    marginTop: 20,\r\n    },\r\n    profileEmail: {\r\n    color: '#777',\r\n    fontSize: 14,\r\n    marginTop: 5,\r\n    },\r\n    inputProfile: {\r\n      width: '70%',\r\n      padding: 10,\r\n      marginBottom: 10,\r\n      backgroundColor: '#f0f0f0',\r\n      borderWidth: 1,\r\n      borderColor: '#ccc',\r\n      borderRadius: 5,\r\n    },\r\n\r\n    chatItem: {\r\n      width: '100%',\r\n      padding: 20,\r\n      backgroundColor: '#f0f0f0',\r\n      paddingTop: 20,\r\n      borderBottomWidth: 1,\r\n      borderBottomColor: '#ccc',\r\n    },\r\n    chatName: {\r\n      fontWeight: 'bold',\r\n      fontSize: 16,\r\n      marginBottom: 5,\r\n    },\r\n    chatLastMessage: {\r\n      color: '#777',\r\n      fontSize: 14,\r\n    },\r\n    contactItem: {\r\n      width: '100%',\r\n      padding: 20,\r\n      backgroundColor: '#f0f0f0',\r\n      paddingTop: 20,\r\n      borderBottomWidth: 1,\r\n      borderBottomColor: '#ccc',\r\n    },\r\n    contactName: {\r\n      fontWeight: 'bold',\r\n      fontSize: 16,\r\n    },\r\n    newContactButton: {\r\n      position: 'absolute',\r\n      bottom: 16,\r\n      right: 16,\r\n      width: 56,\r\n      height: 56,\r\n      backgroundColor: '#3366FF',\r\n      borderRadius: 28,\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      shadowColor: '#000',\r\n      shadowOffset: {\r\n        width: 0,\r\n        height: 3,\r\n      },\r\n      shadowOpacity: 0.29,\r\n      shadowRadius: 4.65,\r\n  \r\n      elevation: 7,\r\n    },\r\n    newContactButtonText: {\r\n      color: '#fff',\r\n      fontSize: 32,\r\n      lineHeight: 32,\r\n    },\r\n    inputContainer: {\r\n      width: '100%',\r\n      paddingHorizontal: 20,\r\n      marginBottom: 20,\r\n    },\r\n    saveButton: {\r\n      backgroundColor: '#3366FF',\r\n      padding: 10,\r\n      borderRadius: 5,\r\n      marginTop: 10,\r\n      alignItems: 'center',\r\n    },\r\n    saveButtonText: {\r\n      color: '#fff',\r\n      textAlign: 'center',\r\n    },    \r\n  });"],"mappings":"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"},"metadata":{},"sourceType":"module"}