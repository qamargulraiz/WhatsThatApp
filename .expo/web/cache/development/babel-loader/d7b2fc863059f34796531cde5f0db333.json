{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nexport function getChats(_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n    chats = _ref2[0],\n    setChats = _ref2[1];\n  function fetchChats() {\n    return _fetchChats.apply(this, arguments);\n  }\n  function _fetchChats() {\n    _fetchChats = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch(URLaddress + '/chat', {\n          headers: {\n            'X-Authorization': loggedUser.Stoken\n          }\n        });\n        if (response.status === 200) {\n          var data = yield response.json();\n          setChats(data);\n        } else {\n          console.error('Failed to retrieve chats');\n        }\n      } catch (error) {\n        console.error('Get Chats error:', error);\n      }\n    });\n    return _fetchChats.apply(this, arguments);\n  }\n  fetchChats();\n  return chats;\n}\nexport function postChats(_x) {\n  return _postChats.apply(this, arguments);\n}\nfunction _postChats() {\n  _postChats = _asyncToGenerator(function* (chatName) {\n    try {\n      var response = yield fetch(URLaddress + '/chat', {\n        method: 'POST',\n        headers: {\n          'X-Authorization': loggedUser.Stoken\n        },\n        body: JSON.stringify({\n          name: chatName\n        })\n      });\n      if (response.status === 201) {\n        console.log('Chat Successfully Created!');\n      } else {\n        console.error('Chat creation failed.');\n      }\n    } catch (error) {\n      console.error('chat creation failed:', error);\n    }\n  });\n  return _postChats.apply(this, arguments);\n}\n;","map":{"version":3,"names":["getChats","chats","setChats","fetchChats","response","fetch","URLaddress","headers","loggedUser","Stoken","status","data","json","console","error","postChats","chatName","method","body","JSON","stringify","name","log"],"sources":["C:/WhatsThat Server/WhatsThatApp/ChatRequests.js"],"sourcesContent":["\r\nexport function getChats([chats, setChats]) {\r\n  \r\n    // Use an async function inside useEffect to fetch data\r\n    async function fetchChats() {\r\n      try {\r\n        // Send a GET request with the user's authorization token\r\n        const response = await fetch(URLaddress +'/chat', {\r\n          headers: {'X-Authorization': loggedUser.Stoken},\r\n        });\r\n\r\n        // Check the response status\r\n        if (response.status === 200) {\r\n          // Store the JSON response in a constant and set state\r\n          const data = await response.json();\r\n          setChats(data);\r\n        } else {\r\n          console.error('Failed to retrieve chats');\r\n        }\r\n      } catch (error) {\r\n        console.error('Get Chats error:', error);\r\n      }\r\n    }\r\n\r\n    fetchChats();\r\n  \r\n  return chats;\r\n}\r\n\r\nexport async function postChats(chatName){\r\n    try {\r\n        // Send a POST request with the user's signup data\r\n        const response = await fetch(URLaddress +'/chat', {\r\n          method: 'POST',\r\n          headers: {'X-Authorization': loggedUser.Stoken},\r\n          body: JSON.stringify({ name: chatName}),\r\n        });\r\n  \r\n        // Check the response status\r\n        if (response.status === 201) {\r\n          \r\n          console.log('Chat Successfully Created!');\r\n    \r\n          \r\n        } else {\r\n          console.error('Chat creation failed.');\r\n        }\r\n      } catch (error) {\r\n        console.error('chat creation failed:', error);\r\n      }\r\n};"],"mappings":";;AACA,OAAO,SAASA,QAAQ,OAAoB;EAAA;IAAlBC,KAAK;IAAEC,QAAQ;EAAA,SAGtBC,UAAU;IAAA;EAAA;EAAA;IAAA,gCAAzB,aAA4B;MAC1B,IAAI;QAEF,IAAMC,QAAQ,SAASC,KAAK,CAACC,UAAU,GAAE,OAAO,EAAE;UAChDC,OAAO,EAAE;YAAC,iBAAiB,EAAEC,UAAU,CAACC;UAAM;QAChD,CAAC,CAAC;QAGF,IAAIL,QAAQ,CAACM,MAAM,KAAK,GAAG,EAAE;UAE3B,IAAMC,IAAI,SAASP,QAAQ,CAACQ,IAAI,EAAE;UAClCV,QAAQ,CAACS,IAAI,CAAC;QAChB,CAAC,MAAM;UACLE,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAC;QAC3C;MACF,CAAC,CAAC,OAAOA,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;MAC1C;IACF,CAAC;IAAA;EAAA;EAEDX,UAAU,EAAE;EAEd,OAAOF,KAAK;AACd;AAEA,gBAAsBc,SAAS;EAAA;AAAA;AAqB9B;EAAA,+BArBM,WAAyBC,QAAQ,EAAC;IACrC,IAAI;MAEA,IAAMZ,QAAQ,SAASC,KAAK,CAACC,UAAU,GAAE,OAAO,EAAE;QAChDW,MAAM,EAAE,MAAM;QACdV,OAAO,EAAE;UAAC,iBAAiB,EAAEC,UAAU,CAACC;QAAM,CAAC;QAC/CS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,IAAI,EAAEL;QAAQ,CAAC;MACxC,CAAC,CAAC;MAGF,IAAIZ,QAAQ,CAACM,MAAM,KAAK,GAAG,EAAE;QAE3BG,OAAO,CAACS,GAAG,CAAC,4BAA4B,CAAC;MAG3C,CAAC,MAAM;QACLT,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAC;MACxC;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C;EACN,CAAC;EAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module"}